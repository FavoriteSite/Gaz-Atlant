!function(){let e=document.querySelector(".icon-menu");e.addEventListener("click",(function(t){document.querySelector(".header__contacts").classList.toggle("_active"),e.classList.toggle("menu-open"),document.body.classList.toggle("_hidden")})),setTimeout((()=>{n()}),500);const t=document.querySelectorAll("._anim-items");if(t.length>0){function n(e){for(let e=0;e<t.length;e++){const n=t[e],l=n.offsetHeight,i=o(n).top,s=5;let r=window.innerHeight-l/s;l>window.innerHeight&&(r=window.innerHeight-window.innerHeight/s),pageYOffset>i-r&&pageYOffset<i+l?n.classList.add("_active"):n.classList.contains("_anim-no-hide")||n.classList.remove("_active")}}function o(e){const t=e.getBoundingClientRect(),n=window.pageXOffset||document.documentElement.scrollLeft,o=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+o,left:t.left+n}}window.addEventListener("scroll",n),n()}const l=document.querySelectorAll(".volume__meaning-item[data-tab]");if(l.length>0){for(let k=0;k<l.length;k++){l[k].addEventListener("click",i)}function i(e){const t=e.currentTarget;if(t.dataset.tab&&document.querySelector(t.dataset.tab)){const e=document.querySelector(t.dataset.tab),n=document.querySelector(".volume__img._active"),o=document.querySelector(".volume__meaning-item._active");n&&(n.classList.remove("_active"),e.classList.add("_active"),o.classList.remove("_active"),t.classList.add("_active"))}}}const s=document.querySelectorAll("[data-spoller]");s.length>0&&s.forEach((e=>{e.parentElement.classList.contains("_active")||(e.nextElementSibling.hidden=!0),e.addEventListener("click",(function(t){if(this.parentElement.hasAttribute("data-one-spoller"))if(e.parentElement.classList.contains("_active"))e.parentElement.classList.contains("_active")&&(e.parentElement.classList.toggle("_active"),a(e.nextElementSibling,500));else{const t=document.querySelector("[data-one-spoller]._active");e.parentElement.classList.add("_active"),c(e.nextElementSibling,500),t&&(t.classList.remove("_active"),r(t.lastElementChild,500))}else e.parentElement.classList.toggle("_active"),a(e.nextElementSibling,500)}))}));let r=(e,t=500)=>{e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout((()=>{e.style.display="none",e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property")}),t)},c=(e,t=500)=>{e.style.removeProperty("display");let n=window.getComputedStyle(e).display;"none"===n&&(n="block"),e.style.display=n;let o=e.offsetHeight;e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=o+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout((()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property")}),t)},a=(e,t=500)=>"none"===window.getComputedStyle(e).display?c(e,t):r(e,t);const d=document.querySelectorAll(".form-block__input-item[data-focus]");if(d.length>0)for(let T=0;T<d.length;T++){const A=d[T],x=A.placeholder;A.addEventListener("focus",(function(e){A.placeholder=""})),A.addEventListener("blur",(function(e){A.placeholder=x}))}let u=document.querySelectorAll("[data-phone]");if(u.length>0)for(let H=0;H<u.length;H++){const B=u[H];function m(){let e=this.value;8==e[0]&&(B.value="+7"+e.slice(2))}B.addEventListener("input",m)}const p=document.forms.main,g=p.inputName,y=(p.inputTextarea,p.inputPhone);p.addEventListener("submit",(function(e){e.preventDefault();let t=g.value,n=y.value;""==t&&(g.value="Ошибка",g.classList.add("_error")),/(\+7|8)[- _]*\(?[- _]*(\d{3}[- _]*\)?([- _]*\d){7}|\d\d[- _]*\d\d[- _]*\)?([- _]*\d){1})/g.test(n)||(y.value="Ошибка",y.classList.add("_error"));const o=document.querySelectorAll(".form-block__input-item[data-check]");if(o.length>0)for(let e=0;e<o.length;e++){const t=o[e];t.classList.contains("_error")&&t.addEventListener("focus",l)}function l(e){const t=e.target;"Ошибка"==t.value&&(t.value=""),t.classList.remove("_error")}}));const f=document.forms.mainPopup,v=f.inputName,h=f.inputPhone;f.addEventListener("submit",(function(e){e.preventDefault();let t=v.value,n=h.value;""==t&&(v.value="Ошибка",v.classList.add("_error")),/(\+7|8)[- _]*\(?[- _]*(\d{3}[- _]*\)?([- _]*\d){7}|\d\d[- _]*\d\d[- _]*\)?([- _]*\d){1})/g.test(n)||(h.value="Ошибка",h.classList.add("_error"));const o=document.querySelectorAll(".form-block__input-item[data-check]");if(o.length>0)for(let e=0;e<o.length;e++){const t=o[e];t.classList.contains("_error")&&t.addEventListener("focus",l)}function l(e){const t=e.target;"Ошибка"==t.value&&(t.value=""),t.classList.remove("_error")}}));const _=document.querySelectorAll(".popup-link"),L=document.querySelector("body"),w=document.querySelectorAll(".lock-padding");let E=!0;const S=800;if(_.length>0)for(let D=0;D<_.length;D++){const R=_[D];R.addEventListener("click",(function(e){const t=R.getAttribute("href").replace("#","");P(document.getElementById(t)),e.preventDefault()}))}const b=document.querySelectorAll(".close-popup");if(b.length>0)for(let C=0;C<b.length;C++){const O=b[C];O.addEventListener("click",(function(e){b(O.closest(".popup")),e.preventDefault()}))}function P(e){if(e&&E){const t=document.querySelector(".popup.open");t?q(t,!1):function(){const e=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px";if(console.log(e),w.length>0)for(let t=0;t<w.length;t++){w[t].style.paddingRight=e}L.style.paddingRight=e,L.classList.add("lock"),E=!1,setTimeout((function(){E=!0}),S)}(),e.classList.add("open"),e.addEventListener("click",(function(e){e.target.closest(".popup__content")||q(e.target.closest(".popup"))}))}}function q(e,t=!0){E&&(e.classList.remove("open"),t&&(setTimeout((function(){if(w.length>0)for(let e=0;e<w.length;e++)w[e].style.paddingRight="0px";L.style.paddingRight="0px",L.classList.remove("lock")}),S),E=!1,setTimeout((function(){E=!0}),S)))}document.addEventListener("keydown",(function(e){if(27===e.which){q(document.querySelector(".popup.open"))}}))}();